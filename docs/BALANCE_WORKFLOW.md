# ã‚²ãƒ¼ãƒ ãƒãƒ©ãƒ³ã‚¹ç®¡ç†ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ»ãƒ¦ãƒ‹ãƒƒãƒˆã®ãƒãƒ©ãƒ³ã‚¹èª¿æ•´ã‚’åŠ¹ç‡çš„ã«è¡Œã†ãŸã‚ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆç¾¤ã¨ä½¿ã„æ–¹ã‚¬ã‚¤ãƒ‰ã€‚

---

## ğŸ“Š ã‚¹ã‚¯ãƒªãƒ—ãƒˆä¸€è¦§

| ã‚¹ã‚¯ãƒªãƒ—ãƒˆ | ç”¨é€” |
|-----------|------|
| `stage_strength_analyzer.js` | å…¨ã‚¹ãƒ†ãƒ¼ã‚¸ã®å¼·ã•ã‚’æ•°å€¤åŒ–ãƒ»åˆ†æ |
| `balance_stage_strength.js` | ã‚¹ãƒ†ãƒ¼ã‚¸å¼·ã•ã‚’è‡ªå‹•ãƒãƒ©ãƒ³ã‚¹èª¿æ•´ |
| `list_enemy_power.js` | æ•µãƒ¦ãƒ‹ãƒƒãƒˆä¸€è¦§ï¼†ãƒ‘ãƒ¯ãƒ¼è¡¨ç¤º |
| `generate_enemy_from_ally.js` | å‘³æ–¹â†’æ•µãƒ¦ãƒ‹ãƒƒãƒˆè‡ªå‹•ç”Ÿæˆ |
| `create_stage_wizard.js` | ã‚¹ãƒ†ãƒ¼ã‚¸è¿½åŠ ã‚¦ã‚£ã‚¶ãƒ¼ãƒ‰ |

---

## ğŸ§® å¼·ã•è¨ˆç®—å¼

### ãƒ¦ãƒ‹ãƒƒãƒˆãƒ‘ãƒ¯ãƒ¼
```
ãƒ‘ãƒ¯ãƒ¼ = HP Ã— 0.001 + æ”»æ’ƒåŠ› Ã— 0.5 + é€Ÿåº¦ Ã— 2
```

### ã‚¹ãƒ†ãƒ¼ã‚¸ç·åˆå¼·ã•
```
å¼·ã• = åŸHP Ã— 0.0001 + æ•µæ•° Ã— 2 + æ•µãƒ‘ãƒ¯ãƒ¼åˆè¨ˆ Ã— 0.05 + æ¹§ãå¯†åº¦ Ã— 50
```

---

## ğŸ¯ é›£æ˜“åº¦åˆ¥ç›®æ¨™å€¤

| é›£æ˜“åº¦ | ç›®æ¨™å¼·ã• | åŸHP | æ•µæ•° | æ¨å¥¨ãƒ¬ã‚¢ãƒªãƒ†ã‚£ | ãƒ¯ãƒ¼ãƒ«ãƒ‰ |
|--------|----------|------|------|----------------|----------|
| tutorial | 220 | 300 | 20 | N | world1 |
| easy | 350 | 1,000 | 35 | N, R | world1 |
| normal | 600 | 3,500 | 50 | N, R | world1 |
| frozen | 1,000 | 8,000 | 65 | N, R, SR | world1 |
| hard | 1,400 | 25,000 | 85 | R, SR | world1 |
| extreme | 2,600 | 70,000 | 115 | R, SR, SSR | world1 |
| nightmare | 4,200 | 200,000 | 170 | SR, SSR, UR | world1 |
| purgatory | 10,000 | 500,000 | 220 | SSR, UR | world2 |
| hellfire | 13,000 | 1,000,000 | 280 | SSR, UR | world2 |
| abyss | 21,000 | 2,000,000 | 360 | SSR, UR | world2 |
| inferno_boss | 35,000 | 5,000,000 | 470 | UR | world2 |

### ç†æƒ³çš„ãªé›£æ˜“åº¦é–“ã®æ¯”ç‡
- å„é›£æ˜“åº¦é–“: **1.3xã€œ2.0x** ã®å¢—åŠ ãŒç†æƒ³

---

## ğŸ“‹ ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

### 1. æ–°ã—ã„ã‚¹ãƒ†ãƒ¼ã‚¸ã‚’è¿½åŠ ã™ã‚‹

```bash
# Step 1: ã‚¹ãƒ†ãƒ¼ã‚¸ã‚’è‡ªå‹•ç”Ÿæˆ
node scripts/create_stage_wizard.js <é›£æ˜“åº¦> <ã‚¹ãƒ†ãƒ¼ã‚¸ID>

# ä¾‹: hardã®æ–°ã‚¹ãƒ†ãƒ¼ã‚¸ã‚’ä½œæˆ
node scripts/create_stage_wizard.js hard stage_22

# ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã ã‘ã—ãŸã„å ´åˆ
node scripts/create_stage_wizard.js hard stage_22 --dry-run
```

```bash
# Step 2: ãƒãƒ©ãƒ³ã‚¹ã‚’ç¢ºèª
node scripts/stage_strength_analyzer.js
```

```bash
# Step 3: å•é¡ŒãŒã‚ã‚Œã°è‡ªå‹•èª¿æ•´
node scripts/balance_stage_strength.js
```

---

### 2. æ–°ã—ã„æ•µãƒ¦ãƒ‹ãƒƒãƒˆã‚’è¿½åŠ ã™ã‚‹

```bash
# Step 1: å‘³æ–¹ãƒ¦ãƒ‹ãƒƒãƒˆä¸€è¦§ã‚’ç¢ºèªï¼ˆæ•µç‰ˆãŒãªã„ã‚‚ã®ï¼‰
node scripts/generate_enemy_from_ally.js --list
```

```bash
# Step 2: å‘³æ–¹ã‹ã‚‰æ•µã‚’ç”Ÿæˆ
# åŸºæœ¬ï¼ˆ0.9å€ã§ç”Ÿæˆï¼‰
node scripts/generate_enemy_from_ally.js <å‘³æ–¹ID>

# å€ç‡æŒ‡å®š
node scripts/generate_enemy_from_ally.js <å‘³æ–¹ID> <å€ç‡>

# ä¾‹
node scripts/generate_enemy_from_ally.js ur_phoenix 0.85
node scripts/generate_enemy_from_ally.js ssr_sakura_samurai 1.0
```

```bash
# Step 3: æ•µä¸€è¦§ã§ç¢ºèª
node scripts/list_enemy_power.js
```

```bash
# ã¾ã æ•µç‰ˆãŒãªã„å‘³æ–¹ã‚’å…¨ã¦ä¸€æ‹¬å¤‰æ›ã—ãŸã„å ´åˆ
node scripts/generate_enemy_from_ally.js --all
node scripts/generate_enemy_from_ally.js --all 0.85  # å€ç‡æŒ‡å®š
```

---

### 3. å…¨ä½“ã®ãƒãƒ©ãƒ³ã‚¹ã‚’ãƒã‚§ãƒƒã‚¯ãƒ»èª¿æ•´ã™ã‚‹

```bash
# Step 1: ç¾çŠ¶åˆ†æ
node scripts/stage_strength_analyzer.js
```

å‡ºåŠ›ä¾‹ï¼š
```
é›£æ˜“åº¦é–“ã®å¼·ã•æ¯”ç‡
-------------------------------------------------------------------
é·ç§»                        | å¼·ã•æ¯” | åŸHPæ¯” | æ•µæ•°æ¯” | æ•µåŠ›æ¯”
----------------------------|--------|--------|--------|-------
tutorial -> easy            |  1.53x |  2.96x |  1.64x |  1.56x
easy -> normal              |  1.63x |  2.87x |  1.25x |  1.80x
...
```

ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆï¼š
- âœ… æ¯”ç‡ãŒ **1.3xã€œ2.0x** ã®ç¯„å›²å†…ã‹
- âš ï¸ **1.1xæœªæº€** ã¯å¢—åŠ ãŒå°ã•ã™ãã‚‹
- âš ï¸ **5.0xä»¥ä¸Š** ã¯å¢—åŠ ãŒå¤§ãã™ãã‚‹

```bash
# Step 2: å•é¡ŒãŒã‚ã‚Œã°è‡ªå‹•èª¿æ•´
node scripts/balance_stage_strength.js

# Step 3: å†åº¦ç¢ºèª
node scripts/stage_strength_analyzer.js
```

---

### 4. æ•µãƒ¦ãƒ‹ãƒƒãƒˆã®å¼·ã•ã‚’ç¢ºèªã™ã‚‹

```bash
node scripts/list_enemy_power.js
```

å‡ºåŠ›å†…å®¹ï¼š
- å…¨æ•µãƒ¦ãƒ‹ãƒƒãƒˆã®HP/ATK/é€Ÿåº¦/ãƒ‘ãƒ¯ãƒ¼/DPS
- ãƒ¬ã‚¢ãƒªãƒ†ã‚£åˆ¥ã®å¹³å‡ãƒ‘ãƒ¯ãƒ¼
- å‘³æ–¹ç‰ˆã¨ã®èƒ½åŠ›å·®

---

## ğŸ“ é–¢é€£ãƒ•ã‚¡ã‚¤ãƒ«

### ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ‡ãƒ¼ã‚¿
- `src/data/stages/normal.json` - World 1 ã‚¹ãƒ†ãƒ¼ã‚¸
- `src/data/stages/world2.json` - World 2 ã‚¹ãƒ†ãƒ¼ã‚¸

### ãƒ¦ãƒ‹ãƒƒãƒˆãƒ‡ãƒ¼ã‚¿
- `src/data/units/allies.json` - å‘³æ–¹ãƒ¦ãƒ‹ãƒƒãƒˆ
- `src/data/units/enemies.json` - æ•µãƒ¦ãƒ‹ãƒƒãƒˆ
- `src/data/units/bosses.json` - ãƒœã‚¹ãƒ¦ãƒ‹ãƒƒãƒˆ

### å‡ºåŠ›ãƒ•ã‚¡ã‚¤ãƒ«
- `scripts/stage_strength_report.json` - åˆ†æçµæœã®è©³ç´°ãƒ‡ãƒ¼ã‚¿

---

## ğŸ’¡ Tips

### ã‚¹ãƒ†ãƒ¼ã‚¸ã®æ‰‹å‹•èª¿æ•´
è‡ªå‹•ç”Ÿæˆå¾Œã«ç´°ã‹ãèª¿æ•´ã—ãŸã„å ´åˆã¯ã€JSONãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç›´æ¥ç·¨é›†ï¼š

```json
{
  "enemyCastleHp": 25000,      // åŸHPã‚’å¤‰æ›´
  "enemyWaves": [
    {
      "unitId": "enemy_ninja",  // æ•µã®ç¨®é¡ã‚’å¤‰æ›´
      "count": 20,              // æ•µã®æ•°ã‚’å¤‰æ›´
      "intervalMs": 800         // ã‚¹ãƒãƒ¼ãƒ³é–“éš”ã‚’å¤‰æ›´ï¼ˆå°ã•ã„=å¯†é›†ï¼‰
    }
  ]
}
```

### æ•µãƒ¦ãƒ‹ãƒƒãƒˆã®æ‰‹å‹•èª¿æ•´
`enemies.json` ã‚’ç›´æ¥ç·¨é›†ï¼š

```json
{
  "id": "enemy_cat_warrior",
  "maxHp": 250,           // HPã‚’èª¿æ•´
  "attackDamage": 42,     // æ”»æ’ƒåŠ›ã‚’èª¿æ•´
  "speed": 72             // é€Ÿåº¦ã‚’èª¿æ•´
}
```

### ãƒãƒ©ãƒ³ã‚¹èª¿æ•´ã®ã‚³ãƒ„
1. **åŸHP** - ã‚¹ãƒ†ãƒ¼ã‚¸ã®é•·ã•ï¼ˆæ™‚é–“ï¼‰ã«å½±éŸ¿
2. **æ•µã®æ•°** - é›£æ˜“åº¦ã®ä½“æ„Ÿã«å¤§ããå½±éŸ¿
3. **æ•µã®å¼·ã•** - å€‹ã€…ã®æˆ¦é—˜ã®é›£ã—ã•ã«å½±éŸ¿
4. **ã‚¹ãƒãƒ¼ãƒ³é–“éš”** - å°ã•ã„ã»ã©ãƒ©ãƒƒã‚·ãƒ¥æ„ŸãŒå‡ºã‚‹

---

## ğŸ”„ å®šæœŸãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹

æœˆ1å›ç¨‹åº¦ã€ä»¥ä¸‹ã‚’å®Ÿè¡Œã—ã¦ãƒãƒ©ãƒ³ã‚¹ã‚’ç¢ºèªï¼š

```bash
# å…¨ä½“ãƒã‚§ãƒƒã‚¯
node scripts/stage_strength_analyzer.js

# æ•µãƒ¦ãƒ‹ãƒƒãƒˆãƒã‚§ãƒƒã‚¯
node scripts/list_enemy_power.js
```
